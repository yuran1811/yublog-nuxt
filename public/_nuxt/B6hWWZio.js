import{_ as A}from"./C6FiQOZh.js";import{A as I,U as y,B as k,r as H,a2 as U,x as V,c as p,f as _,g as r,E as t,F as q,H as E,t as x,y as w,G as L,J as R,d as l,a3 as S}from"./DKjhEE28.js";import{_ as T,p as z}from"./CGaCZT38.js";import{_ as G}from"./CVAb2kpM.js";import{_ as J}from"./C1_Qo9Mc.js";import{a as M}from"./BNQyzDqz.js";import{u as O}from"./Dy0V8Nxk.js";import{u as D}from"./nvwKG5mP.js";import{q as N}from"./CEzVMsT-.js";import"./BTDICRpr.js";import"./DxLhVKGq.js";import"./iGWGNsSM.js";const P={class:"relative mx-auto max-w-2xl space-y-12 bg-(--ui-bg) px-6 pt-8 pb-24 text-(--ui-text)"},j={class:"mx-auto w-full space-y-4 text-center"},K={class:"text-xs font-semibold tracking-wider uppercase"},Q={class:"text-4xl leading-tight font-bold md:text-5xl"},W={class:"text-sm text-(--ui-text-muted)"},X={itemprop:"name",class:"text-violet-400"},Y={datetime:"2021-02-12 15:34:18-0200"},Z={key:1},pt=I({__name:"[slug]",async setup(tt){var f,h,g;let a,u;const v=O("slug"),{data:e}=([a,u]=y(()=>D(`note-${v.value}`,()=>N("notes").path(`/notes/${v.value}`).first())),a=await a,u(),a),s=k(()=>{var n,o,i,m,c,d;return{title:((n=e.value)==null?void 0:n.title)||"Untitled",author:((o=e.value)==null?void 0:o.author)||"anonymous",date:((i=e.value)==null?void 0:i.date)||new Date,tags:((m=e.value)==null?void 0:m.tags)||[],desc:((c=e.value)==null?void 0:c.description)||"No description available",image:((d=e.value)==null?void 0:d.image)||""}}),{data:C}=([a,u]=y(()=>D(`note-author-${s.value.author}`,()=>N("authors").where("name","=",s.value.author).first())),a=await a,u(),a),$=k(()=>{var n,o,i;return((i=(o=(n=e.value)==null?void 0:n.body)==null?void 0:o.toc)==null?void 0:i.links)||[]}),B=H([{label:"Home",icon:"lucide:house",to:"/"},{label:"Notes",icon:"lucide:notebook-pen",to:"/notes"},{label:(f=e.value)!=null&&f.title?e.value.title:"Note",icon:"lucide:sticky-note"}]);return U(((h=e.value)==null?void 0:h.seo)||{}),V(((g=e.value)==null?void 0:g.head)||{}),(n,o)=>{const i=A,m=R,c=T,d=G,F=J;return l(),p("article",P,[_(i,{items:t(B),class:"max-md:hidden"},null,8,["items"]),_(m,{src:t(s).image,sizes:"100vw sm:64vw md:480px",fit:"contain",title:`${t(s).title} cover image`,class:"mx-auto"},null,8,["src","title"]),r("div",j,[r("p",K,[(l(!0),p(q,null,E(t(s).tags,b=>(l(),p("span",{key:b,class:"inline-block rounded-md bg-(--ui-bg) px-2 py-1 text-xs font-semibold tracking-wider text-(--ui-text-muted) lowercase hover:text-(--ui-text)"}," #"+x(b),1))),128))]),r("h1",Q,x(t(s).title),1),r("p",W,[o[0]||(o[0]=w(" by ")),r("span",X,x(t(s).author),1),o[1]||(o[1]=w(" on ")),r("time",Y,x(("useDateFormat"in n?n.useDateFormat:t(S))(t(s).date,t(M)).value),1)])]),_(c,{author:t(z)(t(C))},null,8,["author"]),r("div",null,[_(d,{tocs:t($)},null,8,["tocs"]),t(e)?(l(),L(F,{key:0,class:"prose prose-invert container mx-auto",prose:!0,value:t(e)},null,8,["value"])):(l(),p("div",Z,o[2]||(o[2]=[r("p",{class:"p-4 text-center font-bold"},"Note not found.",-1)])))])])}}});export{pt as default};

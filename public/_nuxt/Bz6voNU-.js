import I from"./C6ZQH8aU.js";import{B as D,N as i,O as B,P as T,Q as S,v as P,R,G as d,d as c,w as U,D as H,n as M,E as y,S as V,c as C,F as G,H as K,f as j,A as Q,U as q,r as E,x as J,g as u}from"./DKjhEE28.js";import{_ as W}from"./DlAUqK2U.js";import{_ as X}from"./G8G_7JP0.js";import{_ as Y}from"./Cfv9Jz8X.js";import{_ as Z}from"./9_U_mc2Y.js";import{h as z}from"./DfFgD9Mb.js";import{u as tt}from"./nvwKG5mP.js";import"./D6rjZdHp.js";import"./BNQyzDqz.js";function et(s,t,o){const[e={},a]=typeof t=="string"?[{},t]:[t,o],n=D(()=>i(s)),_=D(()=>i(e.key)||"$f"+z([a,typeof n.value=="string"?n.value:"",...st(e)]));if(!e.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:m,lazy:x,default:g,transform:p,pick:l,watch:f,immediate:h,getCachedData:b,deep:v,dedupe:w,...F}=e,k=B({...T,...F,cache:typeof e.cache=="boolean"?void 0:e.cache}),A={server:m,lazy:x,default:g,transform:p,pick:l,immediate:h,getCachedData:b,deep:v,dedupe:w,watch:f===!1?[]:[...f||[],k]};f!==!1&&!h&&S([...f||[],k],()=>{A.immediate=!0},{flush:"pre",once:!0});let r;return tt(_,()=>{var O;(O=r==null?void 0:r.abort)==null||O.call(r,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),r=typeof AbortController<"u"?new AbortController:{};const L=i(e.timeout);let $;return L&&($=setTimeout(()=>r.abort(new DOMException("Request aborted due to timeout.","AbortError")),L),r.signal.onabort=()=>clearTimeout($)),(e.$fetch||globalThis.$fetch)(n.value,{signal:r.signal,...k}).finally(()=>{clearTimeout($)})},A)}function N(s,t,o){const[e={},a]=typeof t=="string"?[{},t]:[t,o];return et(s,{...e,lazy:!0},a)}function st(s){var o;const t=[((o=i(s.method))==null?void 0:o.toUpperCase())||"GET",i(s.baseURL)];for(const e of[s.params||s.query]){const a=i(e);if(!a)continue;const n={};for(const[_,m]of Object.entries(a))n[i(_)]=i(m);t.push(n)}return s.body&&t.push(z(i(s.body))),t}const ot={base:"animate-pulse rounded-md bg-elevated"},at={__name:"USkeleton",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const t=s,o=P(),e=D(()=>{var a;return R({extend:R(ot),...((a=o.ui)==null?void 0:a.skeleton)||{}})});return(a,n)=>(c(),d(y(V),{as:s.as,"aria-busy":"true","aria-label":"loading","aria-live":"polite",role:"alert",class:M(e.value({class:t.class}))},{default:U(()=>[H(a.$slots,"default")]),_:3},8,["as","class"]))}},nt={},rt={class:"mx-auto grid max-w-220 auto-rows-fr grid-cols-1 justify-items-center-safe gap-8 py-6 md:grid-cols-2"};function it(s,t){const o=at;return c(),C("div",rt,[(c(!0),C(G,null,K(Array.from({length:4},(e,a)=>a+1),e=>(c(),C("article",{key:e,class:"w-full max-w-105 scale-100 rounded-xl p-0.5"},[j(o,{class:"h-52 w-full rounded-lg"})]))),128))])}const ct=Object.assign(W(nt,[["render",it]]),{__name:"PostsSkeleton"}),lt={class:"mb-20"},ut={class:"mt-4 flex w-full flex-col items-center justify-start gap-20 md:mt-12"},mt={class:"container mx-auto"},pt={class:"container mx-auto"},Ct=Q({__name:"index",async setup(s){let t,o;const{app:e}=P(),{status:a,data:n}=([t,o]=q(()=>N("/api/latest/blog?limit=6","$QD8d9NkvSp")),t=await t,o(),t),{status:_,data:m}=([t,o]=q(()=>N("/api/latest/notes?limit=6","$36R8oiM1IC")),t=await t,o(),t),x=E([...n.value||[]]),g=E([...m.value||[]]);return S(n,p=>{x.value=[...p||[]]}),S(m,p=>{g.value=[...p||[]]}),J({title:"home",meta:[{name:"description",content:`Hi there! I'm ${e.author}, a software engineer and open source enthusiast. I love to share my knowledge, experience, my life, and the things I love. I hope you find something that resonates with you.`}]}),(p,l)=>{const f=I,h=ct,b=X,v=Y,w=Z;return c(),d(w,{class:"relative py-36"},{default:U(()=>[u("div",lt,[j(f,{filled:!0,"font-controlled":!1,class:"mx-auto size-16 sm:size-24"}),l[0]||(l[0]=u("p",{class:"text-center text-3xl font-black tracking-wide"},"yublog",-1))]),u("main",ut,[u("div",mt,[l[1]||(l[1]=u("p",{class:"text-center text-2xl font-semibold"},"Recent Posts",-1)),y(a)==="pending"?(c(),d(h,{key:0})):(c(),d(b,{key:1,posts:y(x)},null,8,["posts"]))]),u("div",pt,[l[2]||(l[2]=u("p",{class:"text-center text-2xl font-semibold"},"Recent Notes",-1)),y(_)==="pending"?(c(),d(h,{key:0})):(c(),d(v,{key:1,notes:y(g)},null,8,["notes"]))])])]),_:1})}}});export{Ct as default};

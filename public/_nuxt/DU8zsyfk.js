import{_ as U}from"./C6FiQOZh.js";import{A as P,c as x,G as g,e as w,w as b,z as F,d as i,g as s,f as m,I as E,t as l,U as y,B,r as O,a2 as R,x as T,E as e,F as j,H as G,y as k,J,a3 as M}from"./DKjhEE28.js";import{_ as K,p as Q}from"./CGaCZT38.js";import{_ as W}from"./CVAb2kpM.js";import{_ as X}from"./C1_Qo9Mc.js";import{a as Y}from"./BNQyzDqz.js";import{u as Z}from"./Dy0V8Nxk.js";import{u as $}from"./nvwKG5mP.js";import{q as I,a as tt}from"./CEzVMsT-.js";import"./BTDICRpr.js";import"./DxLhVKGq.js";import"./iGWGNsSM.js";const et={class:"grid grid-cols-1 gap-8 sm:grid-cols-2"},ot={class:"mb-4 inline-flex items-center rounded-full bg-(--ui-bg-elevated) p-1.5 ring ring-(--ui-border-accented) transition group-hover:-translate-x-0.5 group-hover:bg-(--ui-primary)/10 group-hover:ring-(--ui-primary)/50"},st={class:"mb-1 truncate text-[15px] font-medium text-(--ui-text-highlighted)"},at={class:"line-clamp-2 text-sm text-(--ui-text-muted)"},rt={class:"mb-4 inline-flex items-center rounded-full bg-(--ui-bg-elevated) p-1.5 ring ring-(--ui-border-accented) transition group-hover:translate-x-0.5 group-hover:bg-(--ui-primary)/10 group-hover:ring-(--ui-primary)/50"},it={class:"mb-1 truncate text-[15px] font-medium text-(--ui-text-highlighted)"},nt={class:"line-clamp-2 text-sm text-(--ui-text-muted)"},lt=P({__name:"SurroundPosts",props:{left:{},right:{}},setup(S){return(t,u)=>{const c=E,o=F;return i(),x("div",et,[t.left?(i(),g(o,{key:0,to:t.left.path,class:"group group block rounded-[calc(var(--ui-radius)*2)] border border-(--ui-border) px-6 py-8 transition-colors hover:bg-(--ui-bg-elevated)/50 focus-visible:outline-(--ui-primary)"},{default:b(()=>[s("div",ot,[m(c,{name:"lucide:arrow-left",class:"size-5 shrink-0 text-(--ui-text-highlighted) transition-[color,translate] group-hover:text-(--ui-primary) group-active:-translate-x-0.5"})]),s("p",st,l(t.left.title),1),s("p",at,l(t.left.description),1)]),_:1},8,["to"])):w("",!0),t.right?(i(),g(o,{key:1,to:t.right.path,class:"group group block rounded-[calc(var(--ui-radius)*2)] border border-(--ui-border) px-6 py-8 text-right transition-colors hover:bg-(--ui-bg-elevated)/50 focus-visible:outline-(--ui-primary)"},{default:b(()=>[s("div",rt,[m(c,{name:"lucide:arrow-right",class:"size-5 shrink-0 text-(--ui-text-highlighted) transition-[color,translate] group-hover:text-(--ui-primary) group-active:translate-x-0.5"})]),s("p",it,l(t.right.title),1),s("p",nt,l(t.right.description),1)]),_:1},8,["to"])):w("",!0)])}}}),ut=Object.assign(lt,{__name:"SurroundPosts"}),ct={class:"relative mx-auto max-w-2xl space-y-12 bg-(--ui-bg) px-6 pt-8 pb-24 text-(--ui-text)"},dt={class:"mx-auto w-full space-y-4 text-center"},mt={class:"text-xs font-semibold tracking-wider uppercase"},pt={class:"text-2xl leading-tight font-bold md:text-4xl lg:text-5xl"},gt={class:"text-sm text-(--ui-text-muted)"},_t={itemprop:"name"},ht={datetime:"2021-02-12 15:34:18-0200"},xt={key:1},Pt=P({__name:"[slug]",async setup(S){var D,C,N;let t,u;const c=Z("slug"),{data:o}=([t,u]=y(()=>$(`blog-post-${c.value}`,()=>I("blog").path(`/blog/${c.value}`).first())),t=await t,u(),t),r=B(()=>{var n,a,d,_,p,h;return{title:((n=o.value)==null?void 0:n.title)||"Untitled",author:((a=o.value)==null?void 0:a.author)||"anonymous",date:((d=o.value)==null?void 0:d.date)||new Date,tags:((_=o.value)==null?void 0:_.tags)||[],desc:((p=o.value)==null?void 0:p.description)||"No description available",image:((h=o.value)==null?void 0:h.image)||""}}),{data:A}=([t,u]=y(()=>$(`blog-author-${r.value.author}`,()=>I("authors").where("name","=",r.value.author).first())),t=await t,u(),t),{data:v}=([t,u]=y(()=>$(`blog-${c.value}-surround`,()=>tt("blog",`/blog/${c.value}`,{fields:["title","description"]}))),t=await t,u(),t),z=B(()=>{var n,a,d;return((d=(a=(n=o.value)==null?void 0:n.body)==null?void 0:a.toc)==null?void 0:d.links)||[]}),L=O([{label:"Home",icon:"lucide:house",to:"/"},{label:"Blog",icon:"lucide:book-open",to:"/blog"},{label:((D=o.value)==null?void 0:D.title)??"Post",icon:"lucide:file"}]);return R(((C=o.value)==null?void 0:C.seo)||{}),T(((N=o.value)==null?void 0:N.head)||{}),(n,a)=>{const d=U,_=J,p=F,h=K,V=W,q=X,H=ut;return i(),x("article",ct,[m(d,{items:e(L),class:"max-md:hidden"},null,8,["items"]),m(_,{src:e(r).image,sizes:"100vw sm:64vw md:480px",fit:"contain",title:`${e(r).title} cover image`,class:"mx-auto"},null,8,["src","title"]),s("div",dt,[s("p",mt,[(i(!0),x(j,null,G(e(r).tags,f=>(i(),g(p,{key:f,to:`/blog/tags/${f}`,class:"inline-block rounded-md bg-(--ui-bg) px-2 py-1 text-xs font-semibold tracking-wider text-(--ui-text-muted) lowercase hover:text-(--ui-text)"},{default:b(()=>[k(" #"+l(f),1)]),_:2},1032,["to"]))),128))]),s("h1",pt,l(e(r).title),1),s("p",gt,[a[0]||(a[0]=k(" by ")),m(p,{to:`/blog/authors/${e(r).author}`,class:"text-violet-400 underline"},{default:b(()=>[s("span",_t,l(e(r).author),1)]),_:1},8,["to"]),a[1]||(a[1]=k(" on ")),s("time",ht,l(("useDateFormat"in n?n.useDateFormat:e(M))(e(r).date,e(Y)).value),1)])]),m(h,{author:e(Q)(e(A))},null,8,["author"]),s("div",null,[m(V,{tocs:e(z)},null,8,["tocs"]),e(o)?(i(),g(q,{key:0,class:"prose prose-invert container mx-auto",prose:!0,value:e(o)},null,8,["value"])):(i(),x("div",xt,a[2]||(a[2]=[s("p",{class:"p-4 text-center font-bold"},"Post not found.",-1)])))]),e(v)?(i(),g(H,{key:0,left:e(v)[0],right:e(v)[1]},null,8,["left","right"])):w("",!0)])}}});export{Pt as default};
